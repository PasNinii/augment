"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3627],{3627:(S,d,a)=>{a.r(d),a.d(d,{DailyDigestModule:()=>V});var r=a(177),m=a(4341),s=a(1075),p=a(9664),t=a(4438),g=a(4412),u=a(9265),h=a(2872),f=a(1626),D=a(6446);const v=(e,l)=>l.id;function y(e,l){if(1&e&&(t.j41(0,"ion-col",1),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()),2&e){const n=l.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,n.name),": ",n.content," ")}}let C=(()=>{class e{constructor(){this.gestureCtrl=(0,t.WQX)(s.wH),this.plt=(0,t.WQX)(h.OD),this.http=(0,t.WQX)(f.Qq)}ngAfterViewInit(){this.useTinderSwipe(this.digestEl)}useTinderSwipe(n){const i=n;this.gestureCtrl.create({el:i.nativeElement,gestureName:"swipe",onMove:o=>{i.nativeElement.style.transform=`translateX(${o.deltaX}px) rotate(${o.deltaX/10}deg)`},onEnd:o=>{i.nativeElement.style.transition=".5s ease-out",o.deltaX>150?(i.nativeElement.style.transform=`translateX(${2*+this.plt.width()}px) rotate(${o.deltaX/10}deg)`,this.validation(!0)):o.deltaX<-150?(i.nativeElement.style.transform=`translateX(-${2*+this.plt.width()}px) rotate(${o.deltaX/10}deg)`,this.validation(!1)):i.nativeElement.style.transform=""}}).enable(!0)}validation(n){this.http.put(`${D.c.ENVIRONMENT_VARIABLES.audience}/api/digest/validation/${this.digest.id}`,{isValidated:n}).subscribe()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-swipe"]],viewQuery:function(i,c){if(1&i&&t.GBs(s.b_,5,t.aKT),2&i){let o;t.mGM(o=t.lsd())&&(c.digestEl=o.first)}},inputs:{digest:"digest"},decls:10,vars:4,consts:[[1,"card"],["size","12","size-sm","5"]],template:function(i,c){1&i&&(t.j41(0,"ion-card",0)(1,"ion-card-header")(2,"ion-card-subtitle"),t.EFF(3),t.nI1(4,"date"),t.k0s()(),t.j41(5,"ion-card-content")(6,"ion-grid")(7,"ion-row"),t.Z7z(8,y,3,4,"ion-col",1,v),t.k0s()()()()),2&i&&(t.R7$(3),t.JRh(t.i5U(4,1,c.digest.ctime,"medium")),t.R7$(5),t.Dyx(c.digest.dimensions))},dependencies:[s.b_,s.I9,s.ME,s.HW,s.hU,s.lO,s.ln,r.PV,r.vh],styles:[".card[_ngcontent-%COMP%]{margin:10px auto;position:absolute;width:90%}.card-container[_ngcontent-%COMP%]{margin:10px auto;width:90%}"],changeDetection:0})}return e})();const $=(e,l)=>l.id;function E(e,l){1&e&&t.nrm(0,"app-swipe",6),2&e&&t.Y8G("digest",l.$implicit)}function w(e,l){if(1&e&&(t.qex(0),t.Z7z(1,E,1,1,"app-swipe",6,$),t.bVm()),2&e){const n=t.XpG();t.R7$(),t.Dyx(n)}}function x(e,l){if(1&e&&(t.j41(0,"div",5),t.DNE(1,w,3,0,"ng-container"),t.nI1(2,"async"),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.vxM(1,t.bMT(2,1,n.activeView$)?1:-1)}}function M(e,l){1&e&&(t.j41(0,"p"),t.EFF(1,"No remaining digest"),t.k0s())}function T(e,l){1&e&&t.DNE(0,M,2,0,"ng-template",null,0,t.C5r)}const F=[{path:"",component:(()=>{class e{ionViewDidEnter(){this.activeView$.next(!0)}ionViewDidLeave(){this.activeView$.next(!1),this.digestService.loadDailyDigest$.next()}constructor(){this.digestService=(0,t.WQX)(u.K),this.activeView$=new g.t(!0),this.digestService.loadDailyDigest$.next()}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["ng-component"]],decls:12,vars:5,consts:[["noDigest",""],[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"card-container"],[3,"digest"]],template:function(i,c){if(1&i&&(t.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3," Daily "),t.k0s()()(),t.j41(4,"ion-content",2)(5,"ion-header",3)(6,"ion-toolbar")(7,"ion-title",4),t.EFF(8,"Daily"),t.k0s()()(),t.DNE(9,x,3,3,"div",5),t.nI1(10,"async"),t.DNE(11,T,2,0),t.k0s()),2&i){let o;t.Y8G("translucent",!0),t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(5),t.vxM(9,(o=t.bMT(10,3,c.digestService.dailyDigest$))?9:11,o)}},dependencies:[s.W9,s.eU,s.BC,s.ai,C,r.Jj],styles:[".card[_ngcontent-%COMP%]{margin:10px auto;position:absolute;width:90%}.card-container[_ngcontent-%COMP%]{margin:10px auto;width:90%}"],changeDetection:0})}return e})()}];let X=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[p.iI.forChild(F),p.iI]})}return e})(),V=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.$C({type:e});static#i=this.\u0275inj=t.G2t({imports:[s.bv,r.MD,m.YN,X]})}return e})()}}]);